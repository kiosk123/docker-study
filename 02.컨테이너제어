# 도커 이미지 네이밍 컨벤션
# 저장소이름/이미지이름:이미지버전, 이미지이름:이미지(이름)버전
# dockerrepo/custom:0.01, custom:latest

# 도커 엔진 버전 확인
sudo docker -v


# 이미지 내려 받기
sudo docker pull centos:7

# 내려 받은 이미지 목록 출력
sudo docker images

# 내려 받은 이미지에서 컨테이너 생성 : --name 컨테이너 이름
# -i 상호입출력 -t tty 활성화 배시셸을 사용
sudo docker create -t -t --name mycentos centos:7

# 생성한 컨테이너 실행
sudo docker start mycentos

# 생성한 컨테이너 내부로 진입
sudo docker attach mycentos

# 컨테이너 생성 - 이미지 없을시 도커 허브에서 이미지를 내려받고 실행 후 컨테이너 내부로 진입
# -i 상호입출력 -t tty 활성화 배시셸을 사용 (pull + create + start + attach)
sudo docker run -i -t ubuntu:14.04

# 컨테이너에서 나오기 exit (ctrl + D) - 나오면서 컨테이너 종료
# 컨테이너에서 나오기 (ctrl + P, Q) - 나오면서 컨테이너를 정지시키지 않고 나옴
exit

# 실행 중인 컨테이너 목록
sudo docker ps

# 실행 중인 컨테이너 전체 목록
sudo docker ps -a

# 컨테이너 정보 확인
sudo docker inspect mycentos

# 도커 컨테이너 이름변경
sudo docker rename mycentos centos7

# 실행 중인 컨테이너 전체 중지
sudo docker stop $(docker ps -a -q)

# 도커 컨테이너 삭제
sudo docker rm centos7

# 실행 중인 컨테이너 강제 삭제
sudo docker rm -f centos7

# 컨테이너 전체 삭제
sudo docker container prune
sudo docker rm $(docker ps -a -q)

# 도커 포트 바인딩 -p [호스트포트]:[컨테이너포트]
sudo docker run -t -i -p 80:80 --name centos7 centos:7

# 포트 여러개 개방 및 호스트IP와포트 컨테이너 포트에 바인딩
sudo docker run -t -i -p 3306:3306 -p 192.168.0.100:7777:80 --name centos7 centos:7

# 우분투 컨테이너에 아파치 웹서버 설치 및 기동
apt-get update
apt-get install apache2 -y
 service apache2 start
